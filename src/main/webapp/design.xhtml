<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <title>Add orders</title>
    <h:outputStylesheet library="css" name="popup.css"/>
</h:head>
<body>
<ui:include src="/templates/header.xhtml" />
<h:form>
    <div style="margin-left: 20%;margin-right: 10%;">
        <div class="ui-g ui-fluid">
            <p:growl id="messages"/>
            <p:fieldset legend="Add design">
                <p:panelGrid columns="2">

                    <p:outputLabel value="Design code: "/>
                    <p:inputText value="#{designView.designValue.code}"/>

                    <p:outputLabel value="Description: "/>
                    <p:inputText value="#{designView.designValue.description}"/>


                    <p:outputLabel value="Fabric Consumptions"/>
                    <p:inputText value="#{designView.designValue.fabricConsumption}"/>

                </p:panelGrid>
                <p:commandButton id="addBtn" widgetVar="addBtn" styleClass="buttonClass" value="Add" actionListener="#{designView.addDesign()}" update="ordersData"/>
            </p:fieldset>
        </div>
    </div>
    <div style="margin-left: 20%;margin-right: 10%;margin-top: 20px;">
        <p:commandButton id="designDetailsPage" widgetVar="designDetailsPage" styleClass="buttonClass" value="All" actionListener="#{design.findAll}" update="ordersData"/>
        <p:dataTable value="#{designView.findAll()}" var="list" editable="true" editMode="cell" widgetVar="cellDsign"
                     id="ordersData"
                     styleClass="order-table"
                     headerClass="order-table-header"
                     rowClasses="order-table-odd-row,order-table-even-row" paginator="true" rows="20"
                     paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                     rowsPerPageTemplate="5,10,15,20">
            <p:column>
                <f:facet name="header">
                    Design code
                </f:facet>
                #{list.code}
            </p:column>

            <p:column headerText="Description">
                <p:inputText id="description" name = "description" value="#{list.description}"/>
            </p:column>

            <p:column headerText="Fabric consumption">
                <p:inputText id="fabricConsumption" name = "fabricConsumption" value="#{list.fabricConsumption}"/>
            </p:column>

            <p:column>
                <p:commandButton id="updateBtn" widgetVar="updateBtn" styleClass="buttonClass" value="Update" actionListener="#{design.updateOrder(list)}" update="ordersData" />
            </p:column>
        </p:dataTable>
    </div>

</h:form>
</body>
</html>
